<div class="py-5 m-0 d-flex align-items-center justify-content-center row text-center myBg">
  <div class="col-10 col-md-6">
    <form [formGroup]="registerForm" (ngSubmit)="register()" class="p-4 form-registrati rounded shadow-sm">
      <div class="form-floating mb-3">
        <input id="nome" formControlName="nome" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': isTouchedInvalid('nome') }" placeholder="Nome" />
        <label for="nome">Nome</label>
        <div *ngIf="isTouchedInvalid('nome')" class="invalid-feedback">
          Il nome è richiesto.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input id="cognome" formControlName="cognome" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': isTouchedInvalid('cognome') }" placeholder="Cognome" />
        <label for="cognome">Cognome</label>
        <div *ngIf="isTouchedInvalid('cognome')" class="invalid-feedback">
          Il cognome è richiesto.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input id="email" formControlName="email" type="email" class="form-control" [ngClass]="{
            'is-invalid':
              isTouchedInvalid('email') || registerForm.hasError('isValidEmail')
          }" placeholder="Email" />
        <label for="email">Email</label>
        <div *ngIf="isTouchedInvalid('email')" class="invalid-feedback">
          L'email è richiesta.
        </div>
        <div *ngIf="registerForm.hasError('isValidEmail')" class="invalid-feedback">
          L'email selezionata non è valida.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input id="confermaEmail" formControlName="confermaEmail" type="email" class="form-control" [ngClass]="{
            'is-invalid':
              isTouchedInvalid('confermaEmail') ||
              registerForm.hasError('emailMatch')
          }" placeholder="Conferma Email" />
        <label for="confermaEmail">Conferma Email</label>
        <div *ngIf="isTouchedInvalid('confermaEmail')" class="invalid-feedback">
          Conferma email è richiesta.
        </div>
        <div *ngIf="registerForm.hasError('emailMatch')" class="invalid-feedback">
          Le email non corrispondono.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input id="password" formControlName="password" type="password" class="form-control" [ngClass]="{
            'is-invalid':
              isTouchedInvalid('password') ||
              registerForm.hasError('isValidPassword')
          }" placeholder="Password" />
        <label for="password">Password</label>
        <div *ngIf="isTouchedInvalid('password')" class="invalid-feedback">
          La password è richiesta.
        </div>
        <div *ngIf="registerForm.hasError('isValidPassword')" class="invalid-feedback">
          La password deve contenere caratteri speciali, un numero, una
          maiuscola e deve essere tra 8 e 16 caratteri.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input id="confermaPassword" formControlName="confermaPassword" type="password" class="form-control" [ngClass]="{
            'is-invalid':
              isTouchedInvalid('confermaPassword') ||
              registerForm.hasError('passwordMatch')
          }" placeholder="Conferma Password" />
        <label for="confermaPassword">Conferma Password</label>
        <div *ngIf="isTouchedInvalid('confermaPassword')" class="invalid-feedback">
          Conferma password è richiesta.
        </div>
        <div *ngIf="registerForm.hasError('passwordMatch')" class="invalid-feedback">
          Le password non corrispondono.
        </div>
      </div>

      <div class="form-floating mb-3">
        <select id="genere" formControlName="genere" class="form-select"
          [ngClass]="{ 'is-invalid': isTouchedInvalid('genere') }">
          <option value="selectPlaceholder" disabled selected>
            Seleziona...
          </option>
          <option value="Maschio">Maschio</option>
          <option value="Femmina">Femmina</option>
          <option value="Altro">Altro</option>
        </select>
        <label for="genere">Genere</label>
        <div *ngIf="isTouchedInvalid('genere')" class="invalid-feedback">
          Il genere è richiesto.
        </div>
      </div>

      <div class="form-floating mb-3">
        <input id="immagine" formControlName="immagine" type="text" class="form-control" placeholder="Inserisci url " />
        <label for="immagine">Immagine</label>
      </div>

      <div class="form-floating mb-3">
        <input id="username" formControlName="username" type="text" class="form-control"
          [ngClass]="{ 'is-invalid': isTouchedInvalid('username') }" placeholder="Username" />
        <label for="username">Username</label>
        <div *ngIf="isTouchedInvalid('username')" class="invalid-feedback">
          L'username è richiesto.
        </div>
      </div>
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>

      <div class="d-flex justify-content-center button-registrati">
        <button type="submit" class="fantasy-btn-md" [disabled]="formSubmitted && registerForm.invalid">
          Registrati
        </button>
      </div>
      <p class="text-white mt-3">
        Hai già un account?
        <a class="clicca-qui" routerLink="/auth/login">Clicca qui</a>
      </p>
    </form>
  </div>
</div>